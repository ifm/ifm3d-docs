<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ifm3d: ifm3d::json Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ifm3d
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classifm3d_1_1json.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">ifm3d::json Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="json_8hpp_source.html">ifm3d/common/json.hpp</a>&gt;</code></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h1><a class="anchor" id="documentation"></a>
Documentation</h1>
<p>ifm3d provides a copy of nlohmann::json, please see it's documentation for detailed usage: <a href="https://json.nlohmann.me/">https://json.nlohmann.me/</a></p>
<h1><a class="anchor" id="converter"></a>
Using ifm3d::json together with nlohmann::json</h1>
<p>Working with both nlohmann::json and <a class="el" href="classifm3d_1_1json.html">ifm3d::json</a> together doesn't require any specific setup, however the types are not automatically convertible, so to get a nlohmann::json instance from a <a class="el" href="classifm3d_1_1json.html">ifm3d::json</a> instance one has to convert the json to a string and then parse it again.</p>
<div class="fragment"><div class="line"><a class="code" href="classifm3d_1_1json.html">ifm3d::json</a> j1 = ...;</div>
<div class="line">nlohmann::json j2 = nlohmann::json::parse(j1.dump(0));</div>
</div><!-- fragment --><p>To ease this conversion ifm3d provides a custom converter which can be used by defining <code>IFM3D_JSON_NLOHMANN_COMPAT</code> before including <a class="el" href="classifm3d_1_1json.html">ifm3d::json</a>.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;nlohmann/json.hpp&gt;</span> <span class="comment">// nlohmann json needs to be included before</span></div>
<div class="line">                             <span class="comment">// any ifm3d include.</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#define IFM3D_JSON_NLOHMANN_COMPAT // enable the nlohmann json converter</span></div>
<div class="line"><span class="preprocessor">#include &lt;ifm3d/common/json.hpp&gt;</span></div>
</div><!-- fragment --><p>After this the values can just be assigned and will be converted automatically</p>
<div class="fragment"><div class="line"><a class="code" href="classifm3d_1_1json.html">ifm3d::json</a> j1 = ...;</div>
<div class="line">nlohman::json j2 = j1;</div>
</div><!-- fragment --><h2><a class="anchor" id="udl"></a>
User Defined Literals</h2>
<p>Using the user-defined string literals <code>operator""_json</code> and <code>operator""_json_pointer</code></p>
<div class="fragment"><div class="line"><span class="keyword">using namespace </span>ifm3d::literals;</div>
<div class="line"><a class="code" href="classifm3d_1_1json.html">ifm3d::json</a> j = <span class="stringliteral">&quot;[1,2,3]&quot;</span>_json;</div>
</div><!-- fragment --><p>ambiguity errors will occur since by default nlohmann::json currently places it's <code>operator""_json</code> and <code>operator""_json_pointer</code> into the global namespace. To solve this nlohman::json can be configured to place them into the nlohmann namespace by defining </p><div class="fragment"><div class="line"><span class="preprocessor">#define JSON_USE_GLOBAL_UDLS 0</span></div>
<div class="line"><span class="preprocessor">#include &lt;nlohmann/json.hpp&gt;</span></div>
</div><!-- fragment --><p> before including it (see the <a href="https://json.nlohmann.me/api/macros/json_use_global_udls/">nlohmann::json doc</a> for more details).</p>
<p>After this the correct namespaces can always be brought into scope when needed, but some care needs to be given to never bring both into the same scope, e.g. the following <b>WILL NOT WORK</b>:</p>
<div class="fragment"><div class="line"><span class="comment">// Bring both UDLs into scope</span></div>
<div class="line"><span class="keyword">using namespace </span>nlohmann::json_literals;</div>
<div class="line"><span class="keyword">using namespace </span>ifm3d::json_literals;</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main()</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// auto j = &quot;42&quot;_json; // This line would fail to compile,</span></div>
<div class="line">                           <span class="comment">// because _json is ambigous</span></div>
<div class="line"> </div>
<div class="line">    std::cout &lt;&lt; j &lt;&lt; std::endl;</div>
<div class="line">}</div>
</div><!-- fragment --><p>To counteract this, the namspaces can be brought into smaller scopes, the following will all be valid</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> json_nl()</div>
<div class="line">{</div>
<div class="line">   <span class="keyword">using namespace </span>nlohmann::literals;</div>
<div class="line">   <span class="keyword">auto</span> nl = <span class="stringliteral">&quot;{}&quot;</span>_json;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> json_ifm()</div>
<div class="line">{</div>
<div class="line">  <span class="keyword">using namespace </span>ifm3d::literals;</div>
<div class="line">  <span class="keyword">auto</span> ifm = <span class="stringliteral">&quot;{}&quot;</span>_json;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> json_both()</div>
<div class="line">{</div>
<div class="line">  nlohmann::json nl;</div>
<div class="line">  <a class="code" href="classifm3d_1_1json.html">ifm3d::json</a> ifm;</div>
<div class="line"> </div>
<div class="line">  {</div>
<div class="line">    <span class="keyword">using namespace </span>nlohmann::literals;</div>
<div class="line">    nl = <span class="stringliteral">&quot;{}&quot;</span>_json;</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  {</div>
<div class="line">    <span class="keyword">using namespace </span>ifm3d::literals;</div>
<div class="line">    ifm = <span class="stringliteral">&quot;{}&quot;</span>_json;</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --> </div><hr/>The documentation for this class was generated from the following file:<ul>
<li>ifm3d/common/<a class="el" href="json_8hpp_source.html">json.hpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="aclassifm3d_1_1json_html"><div class="ttname"><a href="classifm3d_1_1json.html">ifm3d::json</a></div><div class="ttdef"><b>Definition:</b> json.hpp:126</div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>ifm3d</b></li><li class="navelem"><a class="el" href="classifm3d_1_1json.html">json</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
