<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Buffer types &mdash; ifm3d v1.6.6 documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/tabs.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/sphinx_highlight.js"></script>
        <script src="../../_static/tabs.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="ifm3d::Buffer- Basic C++ STL container for ifm3d" href="stlimage.html" />
    <link rel="prev" title="Images and buffers manipulation" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> ifm3d
          </a>
              <div class="version">
                v1.6.6
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../README.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation_instructions/index.html">Installation instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../migration_guide/index.html">Migration Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basic_lib_usage/index.html">Basic library usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cmdline_overview.html">Command Line tool</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Manipulating images</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Buffer types</a></li>
<li class="toctree-l2"><a class="reference internal" href="stlimage.html">Accessing pixel values</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../python_api.html">Python API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cpp_api/annotated.html">C++ API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples_list.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ChangeLog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference external" href="http://ifm3d.com">&lt;&lt;&lt; Back to O3R docs</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">ifm3d</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Images and buffers manipulation</a></li>
      <li class="breadcrumb-item active">Buffer types</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/content/manip_images/buffer_ids.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="buffer-types">
<h1>Buffer types<a class="headerlink" href="#buffer-types" title="Permalink to this heading"></a></h1>
<p><code class="docutils literal notranslate"><span class="pre">ifm3d</span></code> supports multiple device families (O3R, O3D3xx, O3X1xx).</p>
<p>Each device natively provides different types of data, and the <code class="docutils literal notranslate"><span class="pre">ifm3d</span></code> library adds additional buffers for convenience.</p>
<p>The tables below list all available buffer types and which device they apply to.
We also specify if the data is provided directly by the device, meaning it is streamed from the embedded device, or calculated by <code class="docutils literal notranslate"><span class="pre">ifm3d</span></code> API on the receiver device.
This is important information to be considered when trying to work around bandwidth limitations and delays.</p>
<p>In this tables, the NA abbreviation stands for “Not Applicable.”</p>
<div class="section" id="o3r-available-buffers">
<h2>O3R Available buffers<a class="headerlink" href="#o3r-available-buffers" title="Permalink to this heading"></a></h2>
<table class="colwidths-auto docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p><code class="docutils literal notranslate"><span class="pre">buffer_id</span></code></p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Native or calculated in ifm3d</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ALGO_DEBUG</span></code></p></td>
<td><p>Proprietary data used for troubleshooting by ifm. For internal use only.</p></td>
<td><p>Native</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CONFIDENCE_IMAGE</span></code></p></td>
<td><p>2D image containing information about each pixel status. Only available for the 3D ports.</p></td>
<td><p>Native</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">EXTRINSIC_CALIB</span></code></p></td>
<td><p>Current values of the optical system to user coordinate transformation for the port currently targeted by the <code class="docutils literal notranslate"><span class="pre">FrameGrabber</span></code>. Only available for the 3D port.<br>Can also be retrieved with the <code class="docutils literal notranslate"><span class="pre">TOF_INFO</span></code> buffer.</p></td>
<td><p>Calculated</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">INTRINSIC_CALIB</span></code></p></td>
<td><p>The intrinsic parameters for the port or camera currently targeted by the<code class="docutils literal notranslate"><span class="pre">FrameGrabber</span></code>. Only available for the 3D port.     <br>Can also be retrieved with the <code class="docutils literal notranslate"><span class="pre">TOF_INFO</span></code> buffer.</p></td>
<td><p>Native</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">INVERSE_INTRINSIC_CALIBRATION</span></code></p></td>
<td><p>The inverse intrinsic parameters for the port or camera currently targeted by the<code class="docutils literal notranslate"><span class="pre">FrameGrabber</span></code>. <br>  Only available for the 3D port.     <br>Can also be retrieved with the <code class="docutils literal notranslate"><span class="pre">TOF_INFO</span></code></p></td>
<td><p>Native</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">JPEG_IMAGE</span></code></p></td>
<td><p>The 2D RGB image.</p></td>
<td><p>Native</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">NORM_AMPLITUDE_IMAGE</span></code></p></td>
<td><p>The normalized amplitude image.</p></td>
<td><p>Native</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">O3R_ODS_INFO</span></code></p></td>
<td><p>The zones output of ODS. Only available for devices with an ODS license.</p></td>
<td><p>Native</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">O3R_ODS_OCCUPANCY_GRID</span></code></p></td>
<td><p>The occupancy grid output of ODS. Only available for devices with an ODS license.</p></td>
<td><p>Native</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">O3R_RESULT_ARRAY2D</span></code></p></td>
<td><p>Contains the result for O3R applications like PDS and MCC.</p></td>
<td><p>Native</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">O3R_RESULT_IMU</span></code></p></td>
<td><p>The IMU data for the OVP on-board IMU at port 6.</p></td>
<td><p>Native</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">O3R_RESULT_JSON</span></code></p></td>
<td><p>Contains the result for O3R applications like PDS and MCC.</p></td>
<td><p>Native</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">RADIAL_DISTANCE_IMAGE</span></code></p></td>
<td><p>2D image containing the radial distance value for each pixel.</p></td>
<td><p>Native</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">RADIAL_DISTANCE_NOISE</span></code></p></td>
<td><p>2D image containing the distance noise value for each pixel.</p></td>
<td><p>Native</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">REFLECTIVITY</span></code></p></td>
<td><p>2D image containing the estimated IR reflectivity (in percent). Only available for the 3D ports.</p></td>
<td><p>Native</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">RGB_INFO</span></code></p></td>
<td><p>Contains various information about the RGB camera and the latest RGB frame (see<a class="reference external" href="https://api.ifm3d.com/stable/_autosummary/ifm3dpy.deserialize.RGBInfoV1.html"><code class="docutils literal notranslate"><span class="pre">RGBInfoV1</span></code></a>)</p></td>
<td><p>Native</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">TOF_INFO</span></code></p></td>
<td><p>Contains various information about the TOF camera and the latest TOF frame (see<a class="reference external" href="https://api.ifm3d.com/stable/_autosummary/ifm3dpy.deserialize.TOFInfoV4.html"><code class="docutils literal notranslate"><span class="pre">TOFInfoV4</span></code></a>)</p></td>
<td><p>Native</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">XYZ</span></code></p></td>
<td><p>The point cloud in Cartesian coordinates.</p></td>
<td><p>Calculated</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="o3d-available-buffers">
<h2>O3D Available buffers<a class="headerlink" href="#o3d-available-buffers" title="Permalink to this heading"></a></h2>
<table class="colwidths-auto docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p><code class="docutils literal notranslate"><span class="pre">buffer_id</span></code></p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Native or calculated in ifm3d</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">AMPLITUDE_IMAGE</span></code></p></td>
<td><p>2D image containing amplitude information for each pixel.</p></td>
<td><p>Native</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CARTESIAN_X_COMPONENT</span></code></p></td>
<td><p>Cartesian coordinate along X axis.</p></td>
<td><p>Calculated</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CARTESIAN_Y_COMPONENT</span></code></p></td>
<td><p>Cartesian coordinate along Y axis.</p></td>
<td><p>Calculated</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CARTESIAN_Z_COMPONENT</span></code></p></td>
<td><p>Cartesian coordinate along Z axis.</p></td>
<td><p>Calculated</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CONFIDENCE_IMAGE</span></code></p></td>
<td><p>2D image containing information about each pixel status.</p></td>
<td><p>Native</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">DIAGNOSTIC</span></code></p></td>
<td><p>Provides some diagnostic information. See <span class="xref myst">details below</span>.</p></td>
<td><p>Native</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">EXPOSURE_TIME</span></code></p></td>
<td><p>Exposure times used for the last frame.</p></td>
<td><p>Calculated</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">EXTRINSIC_CALIB</span></code></p></td>
<td><p>Current values of the optical system to user coordinate transformation for the port currently targeted by the <code class="docutils literal notranslate"><span class="pre">FrameGrabber</span></code>.</p></td>
<td><p>Calculated</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ILLUMINATION_TEMP</span></code></p></td>
<td><p>The temperature of the illumination module</p></td>
<td><p>Native</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">INTRINSIC_CALIB</span></code></p></td>
<td><p>The intrinsic parameters for the port or camera currently targeted by the<code class="docutils literal notranslate"><span class="pre">FrameGrabber</span></code>.</p></td>
<td><p>Native</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">INVERSE_INTRINSIC_CALIBRATION</span></code></p></td>
<td><p>The inverse intrinsic parameters for the port or camera currently targeted by the<code class="docutils literal notranslate"><span class="pre">FrameGrabber</span></code>.</p></td>
<td><p>Native</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">JSON_DIAGNOSTIC</span></code></p></td>
<td><p>Diagnostic information in JSON format.</p></td>
<td><p>Native</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">JSON_MODEL</span></code></p></td>
<td><p>For internal use only.</p></td>
<td><p>??</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">NORM_AMPLITUDE_IMAGE</span></code></p></td>
<td><p>The normalized amplitude image.</p></td>
<td><p>Native</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">RADIAL_DISTANCE_IMAGE</span></code></p></td>
<td><p>2D image containing the radial distance value for each pixel.</p></td>
<td><p>Native</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">UNIT_VECTOR_ALL</span></code></p></td>
<td><p>Unit vectors that can be used to calculate the point cloud directly from the distance image.</p></td>
<td><p>Native</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">XYZ</span></code></p></td>
<td><p>The point cloud in Cartesian coordinates.</p></td>
<td><p>Calculated</p></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code class="docutils literal notranslate"><span class="pre">CARTESIAN_ALL</span></code> buffer is deprecated, and the <code class="docutils literal notranslate"><span class="pre">XYZ</span></code> buffer should be used instead.</p>
</div>
<div class="section" id="diagnostic-buffer">
<h3><code class="docutils literal notranslate"><span class="pre">DIAGNOSTIC</span></code> buffer<a class="headerlink" href="#diagnostic-buffer" title="Permalink to this heading"></a></h3>
<p>This buffer provides diagnostic information such as temperature, frame duration and framerate.</p>
<p>To unpack the information in the <code class="docutils literal notranslate"><span class="pre">DIAGNOSTIC</span></code> buffer, use the following structure:</p>
<table class="colwidths-auto docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Content</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Size</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Illumination temperature</p></td>
<td><p>32-bit signed int</p></td>
<td><p>4 bytes</p></td>
</tr>
<tr class="row-odd"><td><p>Frontend Temperature 1</p></td>
<td><p>32-bit signed int</p></td>
<td><p>4 bytes</p></td>
</tr>
<tr class="row-even"><td><p>Frontend Temperature 2</p></td>
<td><p>32-bit signed int</p></td>
<td><p>4 bytes</p></td>
</tr>
<tr class="row-odd"><td><p>i.mx6 Temperature</p></td>
<td><p>32-bit signed int</p></td>
<td><p>4 bytes</p></td>
</tr>
<tr class="row-even"><td><p>Frame duration: time between the last trigger and the readiness for a new trigger. Only relevant in triggered mode.</p></td>
<td><p>32-bit unsigned integer</p></td>
<td><p>4 bytes</p></td>
</tr>
<tr class="row-odd"><td><p>Framerate. Only relevant in continuous mode (also called free running mode).</p></td>
<td><p>32-bit unsigned integer</p></td>
<td><p>4 bytes</p></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>All the temperatures are displayed in 0.1 °C.
Invalid temperatures have the value 0x7FFF (32767).
Some temperatures are only measured for specific part numbers, which might be why they are invalid.</p>
</div>
<p>In Python, the <code class="docutils literal notranslate"><span class="pre">DIAGNOSTIC</span></code> data can be unpacked with:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Necessary imports</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">struct</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">time</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">ifm3dpy.device</span><span class="w"> </span><span class="kn">import</span> <span class="n">O3D</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">ifm3dpy.framegrabber</span><span class="w"> </span><span class="kn">import</span> <span class="n">FrameGrabber</span><span class="p">,</span> <span class="n">buffer_id</span>

<span class="c1"># Create the objects</span>
<span class="n">o3d</span> <span class="o">=</span> <span class="n">O3D</span><span class="p">()</span> <span class="c1">#EDIT here when using a non-default IP address</span>
<span class="n">fg</span> <span class="o">=</span> <span class="n">FrameGrabber</span><span class="p">(</span><span class="n">o3d</span><span class="p">)</span>

<span class="c1">#Collect a frame</span>
<span class="n">fg</span><span class="o">.</span><span class="n">start</span><span class="p">([</span><span class="n">buffer_id</span><span class="o">.</span><span class="n">DIAGNOSTIC</span><span class="p">,])</span>
<span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="c1"># Grace period after initialization of the data stream</span>
<span class="p">[</span><span class="n">ok</span><span class="p">,</span> <span class="n">frame</span><span class="p">]</span> <span class="o">=</span> <span class="n">fg</span><span class="o">.</span><span class="n">wait_for_frame</span><span class="p">()</span><span class="o">.</span><span class="n">wait_for</span><span class="p">(</span><span class="mi">500</span><span class="p">)</span>

<span class="c1"># Get the data from the collected frame </span>
<span class="n">data</span> <span class="o">=</span> <span class="n">frame</span><span class="o">.</span><span class="n">get_buffer</span><span class="p">(</span><span class="n">buffer_id</span><span class="o">.</span><span class="n">DIAGNOSTIC</span><span class="p">)</span>
<span class="c1"># Unpack the data </span>
<span class="n">unpacked_data</span> <span class="o">=</span> <span class="n">struct</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="s1">&#39;&lt;4i2I&#39;</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>

<span class="n">fg</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="o3x-available-buffers">
<h2>O3X Available buffers<a class="headerlink" href="#o3x-available-buffers" title="Permalink to this heading"></a></h2>
<table class="colwidths-auto docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p><code class="docutils literal notranslate"><span class="pre">buffer_id</span></code></p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Native or calculated in ifm3d</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CARTESIAN_X_COMPONENT</span></code></p></td>
<td><p>Cartesian coordinate along X axis.</p></td>
<td><p>Calculated</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CARTESIAN_Y_COMPONENT</span></code></p></td>
<td><p>Cartesian coordinate along Y axis.</p></td>
<td><p>Calculated</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CARTESIAN_Z_COMPONENT</span></code></p></td>
<td><p>Cartesian coordinate along Z axis.</p></td>
<td><p>Calculated</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CONFIDENCE_IMAGE</span></code></p></td>
<td><p>2D image containing information about each pixel status.</p></td>
<td><p>Native</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">NORM_AMPLITUDE_IMAGE</span></code></p></td>
<td><p>The normalized amplitude image.</p></td>
<td><p>Native</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">RADIAL_DISTANCE_IMAGE</span></code></p></td>
<td><p>2D image containing the radial distance value for each pixel.</p></td>
<td><p>Native</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">RADIAL_DISTANCE_NOISE</span></code></p></td>
<td><p>2D image containing the distance noise value for each pixel.</p></td>
<td><p>Native</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">XYZ</span></code></p></td>
<td><p>The point cloud in Cartesian coordinates.</p></td>
<td><p>Calculated</p></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Even though the <code class="docutils literal notranslate"><span class="pre">GRAYSCALE_IMAGE</span></code> buffer is shown to be available in the O3X JSON configuration, no acquisition mode currently provides this buffer, so we have not included it in the list.</p>
</div>
</div>
<div class="section" id="data-formats">
<h2>Data formats<a class="headerlink" href="#data-formats" title="Permalink to this heading"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">ifm3d</span></code> supports multiple devices. These devices support multiple buffers and data types which can have different data formats on different devices.</p>
<p>We recommend to retrieve the format of a specific <code class="docutils literal notranslate"><span class="pre">buffer_id</span></code> programmatically.
One can use the code below (adapt to the specific <code class="docutils literal notranslate"><span class="pre">buffer_id</span></code>):</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" role="tablist"><button aria-controls="panel-0-Qysr" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-0-Qysr" name="Qysr" role="tab" tabindex="0">C++</button><button aria-controls="panel-0-UHl0aG9u" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-0-UHl0aG9u" name="UHl0aG9u" role="tab" tabindex="-1">Python</button></div><div aria-labelledby="tab-0-Qysr" class="sphinx-tabs-panel group-tab" id="panel-0-Qysr" name="Qysr" role="tabpanel" tabindex="0"><div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">ifm3d</span><span class="o">::</span><span class="n">Buffer</span><span class="w"> </span><span class="n">xyz</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">frame</span><span class="o">-&gt;</span><span class="n">GetBuffer</span><span class="p">(</span><span class="n">ifm3d</span><span class="o">::</span><span class="n">buffer_id</span><span class="o">::</span><span class="n">XYZ</span><span class="p">);</span>

<span class="c1">// Query the data format and channel.</span>
<span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">xyz</span><span class="p">.</span><span class="n">nchannels</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">xyz</span><span class="p">.</span><span class="n">dataFormat</span><span class="p">())</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-0-UHl0aG9u" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-0-UHl0aG9u" name="UHl0aG9u" role="tabpanel" tabindex="0"><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">frame</span><span class="o">.</span><span class="n">get_buffer</span><span class="p">(</span><span class="n">buffer_id</span><span class="o">.</span><span class="n">XYZ</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">shape</span><span class="p">(</span><span class="n">frame</span><span class="o">.</span><span class="n">get_buffer</span><span class="p">(</span><span class="n">buffer_id</span><span class="o">.</span><span class="n">XYZ</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">frame</span><span class="o">.</span><span class="n">get_buffer</span><span class="p">(</span><span class="n">buffer_id</span><span class="o">.</span><span class="n">RADIAL_DISTANCE_NOISE</span><span class="p">)</span><span class="o">.</span><span class="n">dtype</span><span class="p">)</span>
</pre></div>
</div>
</div></div>
<p>In C++, one has to refer to the pixel format correspondence defined below:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">FORMAT_8U</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
<span class="n">FORMAT_8S</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
<span class="n">FORMAT_16U</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
<span class="n">FORMAT_16S</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
<span class="n">FORMAT_32U</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
<span class="n">FORMAT_32S</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span>
<span class="n">FORMAT_32F</span> <span class="o">=</span> <span class="mi">6</span><span class="p">,</span>
<span class="n">FORMAT_64U</span> <span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
<span class="n">FORMAT_64F</span> <span class="o">=</span> <span class="mi">8</span><span class="p">,</span>
<span class="n">FORMAT_16U2</span> <span class="o">=</span> <span class="mi">9</span><span class="p">,</span>
<span class="n">FORMAT_32F3</span> <span class="o">=</span> <span class="mi">10</span>
</pre></div>
</div>
<p>For instance, the format returned for <code class="docutils literal notranslate"><span class="pre">ifm3d::buffer_id::XYZ</span></code> is <code class="docutils literal notranslate"><span class="pre">2</span></code>, which corresponds to <code class="docutils literal notranslate"><span class="pre">FORMAT_32F</span></code> (32 bit float).</p>
<p>See the full examples in the <code class="docutils literal notranslate"><span class="pre">ifm3d-examples</span></code> repository, <a class="reference external" href="https://github.com/ifm/ifm3d-examples/blob/main/common/python/get_data_format.py">in Python</a>, and <a class="reference external" href="https://github.com/ifm/ifm3d-examples/blob/main/common/cpp/get_data_format.cpp">in C++</a>.</p>
</div>
</div>


           </div>
          </div>
          
<html>
<head>
 
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="keywords" content="footer, address, phone, icons" />
 
	<title>Footer With Address And Links</title>
	
	
 
</head>
 
	<body>
		
		<footer class="footer-distributed">
 
		<div class="footer-left">
 
 
		<p class="footer-company-name">ifm robotics &copy; 2023</p>
		</div>
 
		<div class="footer-right">
 
		<div class="footer-icons">
			<a href="mailto:support.efector.object-ident@ifm.com" target="_blank"><i class="fa fa-envelope"></i></a>
			<a href="https://github.com/ifm" target="_blank"><i class="fa fa-github"></i></a>
 
		</div>
 
		</div>
 
		</footer>
 
	</body>
 
</html>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>